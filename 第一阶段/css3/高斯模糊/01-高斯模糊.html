<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title></title>
	<style>
		body {
			margin: 0;
		}

		canvas {
			border: 1px solid #000;
		}

		img {
			border: 1px solid #000;
		}

		#box {
			width: 300px;
			height: 300px;
			border: 1px solid #000;
			background-size: 100% 100%;
		}
	</style>
	<script src="js/gaussBlur.js"></script>
</head>

<body>
	<canvas id="canvas" width="500" height="500"></canvas>
	<img src="" alt="">
	<div id="box"></div>

	<script>
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');

		var img = new Image();
		img.src = 'images/img_01.jpg';
		img.onload = function () {
			//1、画图
			//context.drawImage(img, 50, 50);
			//context.drawImage(img, 50, 50, 200, 200);
			context.drawImage(img, 450, 70, 130, 150, 0, 0, 400, 400);

			//2、导出图片
			var imgSrc = canvas.toDataURL();
			console.log(imgSrc);

			var newImg = document.querySelector('img');
			newImg.src = imgSrc;

			//3、操作像素
			var pxInfo = context.getImageData(0, 0, 500, 500);
			console.log(pxInfo);	//500*500=250000*4=1000000

			context.putImageData(pxInfo, 50, 50);
		}

		// window.player.blurImg();
	</script>

	<script>
		var img = new Image();
		img.src = 'images/img_01.jpg';
		img.onload = function () {
			window.player.blurImg(img, document.getElementById('box'));
		}
	</script>
</body>

</html>