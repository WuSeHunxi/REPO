{"remainingRequest":"F:\\2020\\第一阶段\\复习\\test3\\node_modules\\babel-loader\\lib\\index.js!F:\\2020\\第一阶段\\复习\\test3\\src\\router.js","dependencies":[{"path":"F:\\2020\\第一阶段\\复习\\test3\\src\\router.js","mtime":1587017852952},{"path":"F:\\2020\\第一阶段\\复习\\test3\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\2020\\第一阶段\\复习\\test3\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZVJvdXRlciBmcm9tICJ2dWUtcm91dGVyIjsKaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOwppbXBvcnQgSG9tZSBmcm9tICIuL3ZpZXdzL0hvbWUiOwppbXBvcnQgYXV0aCBmcm9tICIuL3V0aWxzL2F1dGgiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CmNvbnN0IHJvdXRlcyA9IFt7CiAgcGF0aDogIi8iLAogIHJlZGlyZWN0OiAiL2hvbWUiCn0sIHsKICBwYXRoOiAiL2hvbWUiLAogIG5hbWU6ICJob21lIiwKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6ICIvbGVhcm4iLAogIG5hbWU6ICJsZWFybiIsCiAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4vdmlld3MvTGVhcm4iKQp9LCB7CiAgcGF0aDogIi9zdHVkZW50IiwKICAvLyBuYW1lOiAic3R1ZGVudCIsCiAgY29tcG9uZW50czogewogICAgZGVmYWx1dDogKCkgPT4gaW1wb3J0KCIuL3ZpZXdzL1N0dWRlbnQiKSwKICAgIGxlYXJuOiAoKSA9PiBpbXBvcnQoIi4vdmlld3MvTGVhcm4iKQogIH0KfSwgewogIHBhdGg6ICIvYWJvdXQiLAogIG5hbWU6ICJhYm91dCIsCiAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4vdmlld3MvQWJvdXQiKSwKCiAgYmVmb3JlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoKTsKICB9LAoKICBtZXRhOiB7CiAgICByZXF1aXJlc0xvZ2luOiB0cnVlLAogICAgYmFja0FzazogdHJ1ZQogIH0KfSwgewogIHBhdGg6ICIvYWN0aXZpdHkiLAogIHJlZGlyZWN0OiAiL2FjdGl2aXR5L2FjYWRlbWljIgp9LCB7CiAgcGF0aDogIi9hY3Rpdml0eSIsCiAgLy8gbmFtZTogImFjdGl2aXR5IiwKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi92aWV3cy9BY3Rpdml0eSIpLAogIHJlZGlyZWN0OiAiL2FjaXZpdHkvYWNhZGVtaWMiLAogIG1ldGE6IHsKICAgIHJlcXVpcmVzTG9naW46IHRydWUsCiAgICBiYWNrQXNrOiB0cnVlCiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICIvYWN0aXZpdHkvYWNhZGVtaWMiLAogICAgbmFtZTogImFjYWRlbWljIiwKICAgIGNvbXBvbmVudDogKCkgPT4gaW1wb3J0KCIuL3ZpZXdzL0FjYWRlbWljIikKICB9LCB7CiAgICBwYXRoOiAiL2FjdGl2aXR5L2Rvd25sb2FkIiwKICAgIG5hbWU6ICJkb3dubG9hZCIsCiAgICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi92aWV3cy9Eb3dubG9hZCIpCiAgfSwgewogICAgcGF0aDogIi9hY3Rpdml0eS9wZXJzb25hbCIsCiAgICBuYW1lOiAicGVyc29uYWwiLAogICAgY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoIi4vdmlld3MvUGVyc29uYWwiKQogIH1dCn0sIHsKICBwYXRoOiAiL2FjdGl2aXR5L2FjYWRlbWljL3F1ZXN0aW9uLzppZCIsCiAgbmFtZTogInF1ZXN0aW9uIiwKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi92aWV3cy9RdWVzdGlvbiIpLAogIC8vIHByb3BzOiB0cnVlLAogIHByb3BzOiByb3V0ZSA9PiAoewogICAgLy8gaWQ6cm91dGUucGFyYW1zLmlkCiAgICBxdWVyeTogcm91dGUucXVlcnkucQogIH0pCn0sIHsKICBwYXRoOiAiL2xvZ2luIiwKICBjb21wb25lbnQ6ICgpID0+IGltcG9ydCgiLi92aWV3cy9Mb2dpbiIpCn1dOwpjb25zdCByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAiaGlzdG9yeSIsCiAgcm91dGVzLAoKICBzY3JvbGxCZWhhdmlvcih0bywgZnJvbSwgc2F2ZWRQb3NpdGlvbikgewogICAgaWYgKHNhdmVkUG9zaXRpb24pIHsKICAgICAgcmV0dXJuIHNhdmVkUG9zaXRpb247CiAgICB9IGVsc2UgewogICAgICBpZiAodG8uaGFzaCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzZWxlY3RvcjogdG8uaGFzaAogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CiAgICB9CiAgfQoKfSk7CnJvdXRlci5hZnRlckVhY2goKHRvLCBmb3JtKSA9PiB7CiAgcHJvcHMoKTsKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGNvbnN0IGlzUmVxdWlyZXNMb2dpbiA9IHRvLm1hdGNoZWQuc29tZShpdGVtID0+IGl0ZW0ubWV0YS5yZXF1aXJlc0xvZ2luKTsKCiAgaWYgKGlzUmVxdWlyZXNMb2dpbikgewogICAgY29uc3QgaXNMb2dpbiA9IGF1dGguaXNMb2dpbigpOwoKICAgIGlmIChpc0xvZ2luKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnN0IGlzVG9Mb2dpbiA9IHdpbmRvdy5jb25maXJtKCLopoHnmbvlvZXlkI7miY3lj6/ku6XmtY/op4jvvIzopoHljrvnmbvlvZXlkJfvvJ8iKTsKICAgICAgaXNUb0xvZ2luID8gbmV4dCgiL2xvZ2luIikgOiBuZXh0KGZhbHNlKTsKICAgIH0KICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["F:/2020/第一阶段/复习/test3/src/router.js"],"names":["VueRouter","Vue","Home","auth","use","routes","path","redirect","name","component","components","defalut","learn","beforeEnter","to","from","next","meta","requiresLogin","backAsk","children","props","route","query","q","router","mode","scrollBehavior","savedPosition","hash","selector","x","y","afterEach","form","beforeEach","isRequiresLogin","matched","some","item","isLogin","isToLogin","window","confirm"],"mappings":"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","sourcesContent":["import VueRouter from \"vue-router\";\r\nimport Vue from \"vue\";\r\nimport Home from \"./views/Home\";\r\nimport auth from \"./utils/auth\";\r\n\r\nVue.use(VueRouter);\r\n\r\nconst routes = [\r\n  { path: \"/\", redirect: \"/home\" },\r\n  { path: \"/home\", name: \"home\", component: Home },\r\n  { path: \"/learn\", name: \"learn\", component: () => import(\"./views/Learn\") },\r\n  {\r\n    path: \"/student\",\r\n    // name: \"student\",\r\n    components: {\r\n      defalut: () => import(\"./views/Student\"),\r\n      learn: () => import(\"./views/Learn\"),\r\n    },\r\n  },\r\n  {\r\n    path: \"/about\",\r\n    name: \"about\",\r\n    component: () => import(\"./views/About\"),\r\n    beforeEnter(to, from, next) {\r\n      next();\r\n    },\r\n    meta: {\r\n      requiresLogin: true,\r\n      backAsk: true,\r\n    },\r\n  },\r\n  {\r\n    path: \"/activity\",\r\n    redirect: \"/activity/academic\",\r\n  },\r\n  {\r\n    path: \"/activity\",\r\n    // name: \"activity\",\r\n    component: () => import(\"./views/Activity\"),\r\n    redirect: \"/acivity/academic\",\r\n    meta: {\r\n      requiresLogin: true,\r\n      backAsk: true,\r\n    },\r\n    children: [\r\n      {\r\n        path: \"/activity/academic\",\r\n        name: \"academic\",\r\n        component: () => import(\"./views/Academic\"),\r\n      },\r\n      {\r\n        path: \"/activity/download\",\r\n        name: \"download\",\r\n        component: () => import(\"./views/Download\"),\r\n      },\r\n      {\r\n        path: \"/activity/personal\",\r\n        name: \"personal\",\r\n        component: () => import(\"./views/Personal\"),\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    path: \"/activity/academic/question/:id\",\r\n    name: \"question\",\r\n    component: () => import(\"./views/Question\"),\r\n    // props: true,\r\n    props: (route) => ({\r\n      // id:route.params.id\r\n      query: route.query.q,\r\n    }),\r\n  },\r\n  { path: \"/login\", component: () => import(\"./views/Login\") },\r\n];\r\n\r\nconst router = new VueRouter({\r\n  mode: \"history\",\r\n  routes,\r\n  scrollBehavior(to, from, savedPosition) {\r\n    if (savedPosition) {\r\n      return savedPosition;\r\n    } else {\r\n      if (to.hash) {\r\n        return { selector: to.hash };\r\n      }\r\n      return { x: 0, y: 0 };\r\n    }\r\n  },\r\n});\r\n\r\nrouter.afterEach((to, form) => {\r\n  props()\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const isRequiresLogin = to.matched.some((item) => item.meta.requiresLogin);\r\n  if (isRequiresLogin) {\r\n    const isLogin = auth.isLogin();\r\n    if (isLogin) {\r\n      next();\r\n    } else {\r\n      const isToLogin = window.confirm(\"要登录后才可以浏览，要去登录吗？\");\r\n\r\n      isToLogin ? next(\"/login\") : next(false);\r\n    }\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\nexport default router;\r\n"]}]}